### 1. **Main Configuration (`main.tf`)**
   - **Provider Configuration:**
     - Specifies the AWS provider and sets the region to `us-east-1`.
   - **EC2 Instance (`aws_instance.web`):**
     - **Description:** Launches an EC2 instance in the public subnet (`public_2`).
     - **Details:** Uses a specified Red Hat Linux AMI and attaches the security group defined in `security.tf`. The instance runs a web server (Apache HTTP) configured via user data.
     - **Connections:**
       - **Subnet:** Deployed in `aws_subnet.public_2`.
       - **Security Group:** Secured by `aws_security_group.ec2_sg`.
       - **IAM Role:** Attached via `aws_iam_instance_profile.asg_profile`.
   - **Launch Configuration for Auto Scaling Group (`aws_launch_configuration.app`):**
     - **Description:** Defines the launch configuration for EC2 instances in the Auto Scaling Group.
     - **Details:** Uses the same AMI and instance type as the standalone EC2 instance. Configures instances to run a web server.
     - **Connections:**
       - **Security Group:** Instances launched by the ASG are secured by `aws_security_group.ec2_sg`.
       - **IAM Role:** Instances assume the role defined by `aws_iam_role.asg_role`.
   - **Auto Scaling Group (`aws_autoscaling_group.app`):**
     - **Description:** Manages EC2 instances across the private subnets, ensuring availability and scalability.
     - **Details:** Configured to maintain a minimum of 2 and a maximum of 6 instances.
     - **Connections:**
       - **Subnets:** Distributes instances across `aws_subnet.private_1` and `aws_subnet.private_2`.
       - **Target Group:** Instances are part of the target group managed by `aws_lb_target_group.app_tg`.

### 2. **Network Configuration (`network.tf`)**
   - **VPC (`aws_vpc.main`):**
     - **Description:** Creates a VPC with a CIDR block of `10.1.0.0/16`.
     - **Connections:** Serves as the network boundary for all resources.
   - **Subnets:**
     - **Public Subnets (`aws_subnet.public_1`, `aws_subnet.public_2`):**
       - **Description:** Subnets that can directly communicate with the internet.
       - **Connections:** Linked to the Internet Gateway and associated with the public route table.
     - **Private Subnets (`aws_subnet.private_1`, `aws_subnet.private_2`):**
       - **Description:** Subnets isolated from direct internet access, used for backend resources like the Auto Scaling Group.
       - **Connections:** Used by the Auto Scaling Group to host EC2 instances.
   - **Internet Gateway (`aws_internet_gateway.igw`):**
     - **Description:** Provides internet connectivity to resources in the public subnets.
     - **Connections:** Attached to the VPC and routes traffic to the public subnets.
   - **Route Tables:**
     - **Public Route Table (`aws_route_table.public`):**
       - **Description:** Manages routing for the public subnets, sending traffic to the Internet Gateway.
       - **Connections:** Associated with `aws_subnet.public_1` and `aws_subnet.public_2`.

### 3. **Security Configuration (`security.tf`)**
   - **Security Group for EC2 Instances (`aws_security_group.ec2_sg`):**
     - **Description:** Controls inbound and outbound traffic for the EC2 instances and Auto Scaling Group.
     - **Details:** 
       - **Inbound Traffic:** Allows SSH (port 22) and HTTP (port 80) from any IP address.
       - **Outbound Traffic:** Allows all outbound traffic.
     - **Connections:** Applied to the EC2 instance (`aws_instance.web`) and instances launched by the Auto Scaling Group.

### 4. **Application Load Balancer (`alb.tf`)**
   - **Load Balancer (`aws_lb.app_alb`):**
     - **Description:** Distributes incoming HTTP traffic across instances in the Auto Scaling Group.
     - **Connections:** 
       - **Subnets:** Deployed in `aws_subnet.public_1` and `aws_subnet.public_2`.
       - **Target Group:** Forwards traffic to instances in `aws_autoscaling_group.app`.
   - **Target Group (`aws_lb_target_group.app_tg`):**
     - **Description:** Receives traffic from the ALB and forwards it to the instances in the Auto Scaling Group.
     - **Connections:** Targets EC2 instances in the Auto Scaling Group.
   - **Listener (`aws_lb_listener.app_listener`):**
     - **Description:** Listens on HTTP (port 80) and routes requests to the target group.
     - **Connections:** Associated with the ALB and the target group.

### 5. **IAM Configuration (`iam.tf`)**
   - **IAM Role for Auto Scaling Group (`aws_iam_role.asg_role`):**
     - **Description:** Grants EC2 instances in the Auto Scaling Group the necessary permissions.
     - **Connections:** Attached to instances in the Auto Scaling Group via `aws_iam_instance_profile.asg_profile`.
   - **IAM Policy for Auto Scaling Group (`aws_iam_policy.asg_policy`):**
     - **Description:** Grants permissions to the IAM role for accessing specific AWS resources like S3.
     - **Connections:** Attached to the IAM role via `aws_iam_role_policy_attachment.asg_role_attachment`.
   - **IAM Role for Logs (`aws_iam_role.logs_role`):**
     - **Description:** Grants EC2 instances the permission to write logs to an S3 bucket.
     - **Connections:** Attached to instances as needed for logging purposes.

### 6. **Variables and Outputs**
   - **Variables (`variables.tf`):**
     - **Description:** Defines reusable variables like `key_name`, `ami`, and `instance_type` for the configuration.
   - **Outputs (`outputs.tf`):**
     - **Description:** Outputs useful information like the public IP of the EC2 instance and the DNS name of the ALB.

### **Connections Overview**
- **VPC:** Acts as the network boundary, containing all other resources.
- **Public Subnets:** Contain the EC2 instance and parts of the ALB.
- **Private Subnets:** Contain the instances launched by the Auto Scaling Group.
- **Internet Gateway:** Provides internet access to public subnets.
- **Route Tables:** Manage traffic between the subnets and the Internet Gateway.
- **Security Groups:** Control access to the EC2 instance and ALB.
- **Auto Scaling Group:** Distributes backend EC2 instances across private subnets.
- **Application Load Balancer:** Distributes incoming traffic to instances in the Auto Scaling Group.
- **IAM Roles and Policies:** Ensure proper permissions for EC2 instances and the Auto Scaling Group.

This map outlines the relationships and interactions between each Terraform resource in your infrastructure, reflecting the changes you've made by moving compute resources into `main.tf`.
